<!DOCTYPE html><head><link rel="stylesheet" href="css/matic.css"></head><html><body><article><header><h1>Centro authorization token schema</h1><p>Schema for authorization tokens sent by clients to a Centro server</p><p>Uses&nbsp;<a href="http://json-schema.org/draft-06/schema#">http://json-schema.org/draft-06/schema#</a></p><a href="./index.html">Return to index</a></header><span class="container top">{</span><dl><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent">"exp":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Token expiry time (in seconds since 1970-01-01)</p></dd><dt>"type":</dt><dd><p>integer</p></dd></dl></dd><dt class="parent">"iss":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Token issuer</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">128</span></dd></dl></dd><dt class="parent">"access_control":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Which topics clients presenting this token can subscribe and publish to. See <a href="https://github.com/davedoesdev/mqlobber-access-control">mqlobber-access-control</a>.</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ publish, subscribe ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"publish":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Allowed and disallowed topics for publish requests</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ allow, disallow ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"allow":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Clients can publish messages to these topics</p></dd><dt>"type":</dt><dd><p>array</p></dd><dt>"maxItems":</dt><dd><span class="number">1000</span></dd><dt class="parent">"items":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd></dl></dd><dt class="parent"><span title="required" class="required">&#9733;</span>"disallow":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Clients cannot publish messages to these topics</p></dd><dt>"type":</dt><dd><p>array</p></dd><dt>"maxItems":</dt><dd><span class="number">1000</span></dd><dt class="parent">"items":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd></dl></dd><dt class="parent">"disallow_single":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>If true then clients cannot publish messages to a single subscriber</p></dd><dt>"type":</dt><dd><p>boolean</p></dd></dl></dd><dt class="parent">"disallow_multi":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>If true then clients cannot publish messages to multiple subscribers</p></dd><dt>"type":</dt><dd><p>boolean</p></dd></dl></dd></dl></dd></dl></dd><dt class="parent"><span title="required" class="required">&#9733;</span>"subscribe":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Allowed and disallowed topics for subscribe requests</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ allow, disallow ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"allow":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Clients can subscribe to messages published to these topics</p></dd><dt>"type":</dt><dd><p>array</p></dd><dt>"maxItems":</dt><dd><span class="number">1000</span></dd><dt class="parent">"items":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd></dl></dd><dt class="parent"><span title="required" class="required">&#9733;</span>"disallow":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Clients cannot subscribe to messages published to these topics</p></dd><dt>"type":</dt><dd><p>array</p></dd><dt>"maxItems":</dt><dd><span class="number">1000</span></dd><dt class="parent">"items":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd></dl></dd></dl></dd></dl></dd><dt class="parent">"block":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Clients cannot receive messages published to these topics. This is useful is subscribe.allow is a superset of subscribe.disallow but you don't want messages matching (a subset of) subscribe.disallow sent to clients</p></dd><dt>"type":</dt><dd><p>array</p></dd><dt>"maxItems":</dt><dd><span class="number">1000</span></dd><dt class="parent">"items":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd></dl></dd></dl></dd></dl></dd><dt class="parent">"subscribe":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Clients presenting this token are pre-subscribed to these topics</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"maxProperties":</dt><dd><span class="number">1000</span></dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"patternProperties":</dt><dd class="new-block"><dl><dt class="parent">"^.{0,32768}$":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>If true then presenting clients will be sent any existing, unexpired messages that match the topic, as well as new ones</p></dd><dt>"type":</dt><dd><p>boolean</p></dd></dl></dd></dl></dd></dl></dd><dt class="parent">"ack":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Publish an acknowledgement message when a client presenting this token acknowledges receipt of a message. See <a href="https://github.com/davedoesdev/mqlobber#mqlobberservereventsackinfo">mqlobber</a>.</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ prefix ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"prefix":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>The acknowledgement message's topic will be the original message's topic appended to this prefix. The body will be empty</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd></dl></dd></dl></dd><dt class="parent">"presence":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Publish a presence message when a client presenting this token connects or disconnects</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ connect, disconnect ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"connect":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Describes the message to publish when a client connects</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ topic ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"topic":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Message topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd><dt class="parent">"single":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Whether the message will be given to at most one interested client</p></dd><dt>"type":</dt><dd><p>boolean</p></dd></dl></dd><dt class="parent">"ttl":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Time-to-live (in seconds) for the message</p></dd><dt>"type":</dt><dd><p>integer</p></dd><dt>"minimum":</dt><dd><span class="number">0</span></dd></dl></dd><dt class="parent">"data":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Message body</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">1048576</span></dd></dl></dd></dl></dd></dl></dd><dt class="parent"><span title="required" class="required">&#9733;</span>"disconnect":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Describes the message to publish when a client disconnects</p></dd><dt>"type":</dt><dd><p>object</p></dd><dt>"required":</dt><dd>[ topic ]</dd><dt>"additionalProperties":</dt><dd><span class="bool">false</span></dd><dt class="parent">"properties":</dt><dd class="new-block"><dl><dt class="parent"><span title="required" class="required">&#9733;</span>"topic":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Message topic</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">32768</span></dd></dl></dd><dt class="parent">"single":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Whether the message will be given to at most one interested client</p></dd><dt>"type":</dt><dd><p>boolean</p></dd></dl></dd><dt class="parent">"ttl":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Time-to-live (in seconds) for the message</p></dd><dt>"type":</dt><dd><p>integer</p></dd><dt>"minimum":</dt><dd><span class="number">0</span></dd></dl></dd><dt class="parent">"data":</dt><dd class="new-block"><dl><dt>"description":</dt><dd><p>Message body</p></dd><dt>"type":</dt><dd><p>string</p></dd><dt>"maxLength":</dt><dd><span class="number">1048576</span></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl><span class="container bot">}</span><footer><p><a href="./index.html">Return to index</a></p><p>Built with&nbsp;<a href="https://www.github.com/mattyod/matic/">Matic.js</a></p></footer><script src="js/jquery.js"></script><script src="js/matic.js"></script></article></body></html>